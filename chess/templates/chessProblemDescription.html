<!DOCTYPE html>
<html>
    <header>
        <title>Problem</title>
        <!--codemirror-->
        <script src='/static/codemirror/lib/codemirror.js'></script>
        <link rel='stylesheet' href='/static/codemirror/lib/codemirror.css'/>
        <script src='/static/codemirror/mode/python/python.js'></script>
        <script src='/static/codemirror/addon/selection/active-line.js'></script>
        <script src='/static/codemirror/addon/edit/matchbrackets.js'></script>

        <link rel='stylesheet' href='/static/codemirror/theme/nord.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/material.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/lucario.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/gruvbox-dark.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/eclipse.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/elegant.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/xq-light.css'/>
        <link rel='stylesheet' href='/static/codemirror/theme/mdn-like.css'/>

        <!--otro-->
        <link rel='stylesheet' href='/static/css/chessProblemDescription.css'/>
        <link rel='stylesheet' href='/static/css/chessScrollbar.css'/>
        <link rel='stylesheet' href='/static/css/chessProblemDescriptionNav.css'/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    </header>
    <body>
        {% load static %}
        {% include 'chess-nav.html' %}
        <div class='mainBox'>
            <!--Lugar de visualizacion del problema-->
            <div class='leftBox'>
                <h3>Problem</h3>
                <p>{{ object.description }}</p>
                <hr>

                <h3>Output</h3>
                <!--Solucion esperada-->
                <div class='imageBox'>
                    {% if object.imageChessProblem %}
                    <img width='350' height='350' src='{{ object.imageChessProblem.url }}' alt='imageChessProblem'>
                    {% else %}
                    <img width='350' height='350' src='#' alt='imageChessProblem'>
                    {% endif %}
                </div>
                <hr/>

                <h3>Hint</h3>
                <p>{{ object.hint }}</p>
                <hr>

                <h3>Author</h3>
                <p>admin</p>

            </div>
            <!--Lugar de solucion y visualizacion de la salida-->
            <div class='rightBox'>
                <div class='rightBoxContent'>
                    <!--Lugar de escritura de codigo-->
                    <div class='upBox'>
                        <div class='codeBox'>
                            <form action='.' method='POST'>
                                {% csrf_token %}
                                <textarea id='editor' name='input'>{{ code }}</textarea>
                                <script>
                                    var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
                                        mode: "python",
                                        theme: "material",
                                        lineNumbers: true
                                    });
                                    //editor.setSize("550", "300");
                                </script>
                                <div class='button-submit'>
                                    <br>
                                    <button type="submit" class='btn btn-success'>Send</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <br>
                    <!--Solucion de cada usuario-->
                    <div class='downBox'>
                        {% if error.0 != ''%}
                        <div id='resultContent' style='margin-left:20px;'>
                            <h3 id='errorName'>{{ error.0 }}</h3>
                            <div id='errorContent'>
                                <p id='errorText'>{{ error.1 }}</p>
                            </div>
                        </div>
                        {% else %}
                        <div id='resultContent' style='display:flex; justify-content: center;'>
                            {% if objectSolution %}
                            <div id='resultContentContent'>
                                <div style='display: block'>
                                    <div id='imageSolutionContainer'>
                                        <img id='imageSolution' width='350' height='350' src='{{ objectSolution.imageChessSolution.url }}' alt='imageChessSolution'>
                                    </div>
                                    {% if objectSolution.matchingChessSolution == 100.00 %}
                                    <div id='coincidence' style='background-color: #223D3A;'>
                                        <p style='color: #00B8A3;'>Accepted (100% of coincidence)</p>
                                    </div>
                                    {% else %}
                                    <div id='coincidence' style='background-color: #502c2b;'>
                                        <p style='color: #D95B58;'>Wrong Answer ({{ objectSolution.matchingChessSolution }} % of coincidence)</p>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                            {% else %}
                            <div id='preOutput'>
                                <p>Your output will be displayed here.</p>
                            </div>
                            {% endif %}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
